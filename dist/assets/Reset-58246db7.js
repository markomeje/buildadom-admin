import{r as u,e as f,b as a,F as N,j as s,N as w,I as g}from"./index-f1189a9f.js";import{N as x,a as b}from"./Navbar-e67db8c7.js";import{O as y}from"./OtpInput-ae091a0b.js";import{u as v,s as C}from"./spinner-c3fa37f6.js";import{M as k}from"./Modal-e7a99e92.js";import{F as t}from"./Form-5ab9da63.js";import{A as F}from"./Alert-ba8871e4.js";import"./Fade-d5887953.js";import"./NoopTransition-040d6e3a.js";import"./divWithClassName-1c498f27.js";function G(){const[o,m]=u.useState(""),{type:n}=f(),c="http://api.buildadom.test/api/v1",{successful:r,handleSubmit:p,message:d,submitting:l,errors:e,handleChange:i}=v(`${c}/reset/update`,{code:o,type:n,stage:"reset"});return a(N,{children:[s(x,{showCenterLinks:!1}),r&&s(w,{to:"/login"}),s(k,{show:!0,handleClose:()=>!1,showCloseButton:!1,children:s("div",{className:"m-auto",style:{maxWidth:"320px"},children:a("div",{children:[a("div",{className:"text-center",children:[s("h4",{className:"mb-4",children:"Enter your reset code"}),a("p",{className:"text-dark mb-4",children:["Please kindly enter the code sent to your email for your ",n," reset"]})]}),a(t,{onSubmit:p,method:"post",autoComplete:"off",children:[a("div",{className:"mb-4",children:[s("div",{children:"Code"}),s(y,{value:o,valueLength:6,onChange:h=>m(h)}),e&&(e!=null&&e.code)?s("small",{className:"text-danger",children:e.code}):""]}),a(t.Group,{className:"mb-4",children:[s(t.Label,{className:"text-dark",children:"New Password"}),s(t.Control,{type:"password",name:"password",placeholder:"Enter your password",onChange:i,className:e&&(e!=null&&e.password)?"is-invalid":""}),e&&(e!=null&&e.password)?s("small",{className:"text-danger",children:e.password}):""]}),a(t.Group,{className:"mb-4",children:[s(t.Label,{className:"text-dark",children:"Confirm Password"}),s(t.Control,{type:"password",name:"confirm_password",placeholder:"Confirm password",onChange:i,className:e&&(e!=null&&e.confirm_password)?"is-invalid":""}),e&&(e!=null&&e.confirm_password)?s("small",{className:"text-danger",children:e.confirm_password}):""]}),d&&s(F,{className:"my-4",variant:r?"success":"danger",children:d}),s("span",{className:"d-flex justify-content-center",style:{cursor:l?"not-allowed":"default"},children:s(b,{className:"bg-main px-4 text-center py-2 btn-lg rounded-pill",disabled:l,type:"submit",style:{width:"160px"},children:s("small",{className:"text-white",children:l?s(g,{src:C}):"Reset"})})})]})]})})})]})}export{G as default};
