import{r as n,e as y,b as a,F as d,j as e,N as u,I as N}from"./index-f1189a9f.js";import{M as g}from"./Modal-e7a99e92.js";import{O as v}from"./OtpInput-ae091a0b.js";import{u as w,s as F}from"./spinner-c3fa37f6.js";import{N as C,a as j}from"./Navbar-e67db8c7.js";import{F as S}from"./Form-5ab9da63.js";import{A as k}from"./Alert-ba8871e4.js";import"./Fade-d5887953.js";import"./NoopTransition-040d6e3a.js";import"./divWithClassName-1c498f27.js";function $(){const[l,c]=n.useState(""),[f,h]=n.useState(!1),{type:o}=y(),p="http://api.buildadom.test/api/v1",{successful:i,handleSubmit:x,message:m,submitting:r,errors:s,response:t}=w(`${p}/verification/verify`,{code:l,type:o});return n.useEffect(()=>{(t==null?void 0:t.done)===!0&&h(!0),i&&c("")},[t==null?void 0:t.done,i]),a(d,{children:[e(C,{showCenterLinks:!1}),f&&e(u,{to:"/login"}),e(g,{show:!0,handleClose:()=>!1,showCloseButton:!1,children:a("div",{className:"m-auto text-center",style:{maxWidth:"320px"},children:[i&&o==="phone"&&e(u,{to:"/verification/email"}),a(d,{children:[e("h4",{className:"mb-4",children:"Enter your verification code"}),a("p",{className:"text-dark mb-4",children:["Please kindly enter the code we sent to your ",o,"."]}),a(S,{onSubmit:x,method:"post",autoComplete:"off",children:[a("div",{className:"mb-4",children:[e(v,{value:l,valueLength:6,onChange:b=>c(b)}),s&&(s!=null&&s.code)?e("small",{className:"text-danger",children:s.code}):""]}),m&&e(k,{className:"my-4",variant:i?"success":"danger",children:m}),e("span",{className:"d-flex justify-content-center",style:{cursor:r?"not-allowed":"default"},children:e(j,{className:"bg-main px-4 text-center py-2 btn-lg rounded-pill",disabled:r,type:"submit",style:{width:"160px"},children:e("small",{className:"text-white",children:r?e(N,{src:F}):"Verify"})})})]})]})]})})]})}export{$ as default};
